#!/bin/bash

domain="$1"
subdomain="$2"

get_record_info() {
    sub_domain="$1"
    dig_output=$(dig $sub_domain.$domain | awk '/^;; ANSWER SECTION:/{getline; print}')
    record_type=$(echo "$dig_output" | awk '{print $3}')
    destination=$(echo "$dig_output" | awk '{print $5}')
    echo "The subdomain $sub_domain is a $record_type record and points to $destination"
}

if [ -z "$subdomain" ]; then
    subdomains=("www" "100.26.237.104" "54.237.15.15" "35.175.135.33")
    for sub in "${subdomains[@]}"; do
        get_record_info "$sub"
    done
else
    get_record_info "$subdomain"
fi
